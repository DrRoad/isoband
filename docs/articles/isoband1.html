<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>1. Generating isolines and isobands â€¢ isoband</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="1. Generating isolines and isobands">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">isoband</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/isoband1.html">1. Generating isolines and isobands</a>
    </li>
    <li>
      <a href="../articles/isoband2.html">2. Simple features</a>
    </li>
    <li>
      <a href="../articles/isoband3.html">3. Labeled isolines</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/wilkelab/isoband">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>1. Generating isolines and isobands</h1>
                        <h4 class="author">Claus O. Wilke</h4>
            
            <h4 class="date">2020-04-12</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/wilkelab/isoband/blob/master/vignettes/isoband1.Rmd"><code>vignettes/isoband1.Rmd</code></a></small>
      <div class="hidden name"><code>isoband1.Rmd</code></div>

    </div>

    
    
<p>The isoband package implements fast algorithms for generating isolines (lines of equal elevation) and isobands (ranges of elevation delimited by two isolines) from a matrix of elevation data. For both cases, the package employs the marching squares algorithms as described on <a href="https://en.wikipedia.org/wiki/Marching_squares">Wikipedia.</a> Marching squares algorithms break down the elevation matrix into blocks of 2x2 elevation values. For each block, they then determine the appropriate isolines/isobands from a lookup table of all possible arrangements of isolines or isobands within a 2x2 block. There are 16 distinct possibilities for isolines and 81 for isobands. The implementation in the isoband package goes beyond the algorithm described on Wikipedia in that it merges the isolines or isobands from separate blocks into extended line traces or polygons. The package is meant as a low-level package with minimal required dependencies. Therefore, many of the functions provided may not immediately be useful to endusers, but they will enable developers of other packages to integrate isolines and isobands into their feature set.</p>
<p>The two main functions of the package are called <code><a href="../reference/isobands.html">isolines()</a></code> and <code><a href="../reference/isobands.html">isobands()</a></code>, and they have similar user interfaces and return values. Both take a vector <code>x</code> specifying the x values corresponding to the columns of the elevation matrix, a vector <code>y</code> specifying the y values corresponding to the rows of the elevation matrix, and an elevation matrix <code>z</code>. The two functions differ in that <code><a href="../reference/isobands.html">isolines()</a></code> takes a single argument <code>levels</code> specifying the elevation levels for which isolines should be calculated, whereas <code><a href="../reference/isobands.html">isobands()</a></code> takes two arguments, <code>levels_low</code> and <code>levels_high</code>, specifying the lower and upper bounds for each isoband. The return value in both cases is a list of lists. The outer list contains one list element for each specified isolevel. The inner lists hold line or polygon data in the form <code>x</code>, <code>y</code>, <code>id</code> as used by <code><a href="https://www.rdocumentation.org/packages/grid/topics/grid.lines">grid::polylineGrob()</a></code> or <code><a href="https://www.rdocumentation.org/packages/grid/topics/grid.path">grid::pathGrob()</a></code>. The format has been chosing for easy drawing of the resulting values via these two grid functions.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(isoband)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(grid)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"></a>
<a class="sourceLine" id="cb1-4" data-line-number="4">m &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/matrix">matrix</a></span>(</a>
<a class="sourceLine" id="cb1-5" data-line-number="5">  <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb1-6" data-line-number="6">    <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb1-7" data-line-number="7">    <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb1-8" data-line-number="8">    <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb1-9" data-line-number="9">    <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>),</a>
<a class="sourceLine" id="cb1-10" data-line-number="10">  <span class="dv">5</span>, <span class="dv">5</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb1-11" data-line-number="11">)</a>
<a class="sourceLine" id="cb1-12" data-line-number="12"></a>
<a class="sourceLine" id="cb1-13" data-line-number="13">lines &lt;-<span class="st"> </span><span class="kw"><a href="../reference/isobands.html">isolines</a></span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">ncol</a></span>(m)<span class="op">/</span><span class="dv">6</span>, <span class="dt">y =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">nrow</a></span>(m)<span class="op">:</span><span class="dv">1</span><span class="op">/</span><span class="dv">6</span>, <span class="dt">z =</span> m, <span class="dt">levels =</span> <span class="fl">0.5</span>)</a>
<a class="sourceLine" id="cb1-14" data-line-number="14">lines</a>
<a class="sourceLine" id="cb1-15" data-line-number="15"><span class="co">#&gt; $`0.5`</span></a>
<a class="sourceLine" id="cb1-16" data-line-number="16"><span class="co">#&gt; $`0.5`$x</span></a>
<a class="sourceLine" id="cb1-17" data-line-number="17"><span class="co">#&gt;  [1] 0.6666667 0.5833333 0.5000000 0.4166667 0.3333333 0.2500000 0.2500000</span></a>
<a class="sourceLine" id="cb1-18" data-line-number="18"><span class="co">#&gt;  [8] 0.2500000 0.3333333 0.5000000 0.6666667 0.7500000 0.6666667 0.6250000</span></a>
<a class="sourceLine" id="cb1-19" data-line-number="19"><span class="co">#&gt; [15] 0.6666667 0.7500000 0.6666667</span></a>
<a class="sourceLine" id="cb1-20" data-line-number="20"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb1-21" data-line-number="21"><span class="co">#&gt; $`0.5`$y</span></a>
<a class="sourceLine" id="cb1-22" data-line-number="22"><span class="co">#&gt;  [1] 0.2500000 0.3333333 0.3750000 0.3333333 0.2500000 0.3333333 0.5000000</span></a>
<a class="sourceLine" id="cb1-23" data-line-number="23"><span class="co">#&gt;  [8] 0.6666667 0.7500000 0.7916667 0.7500000 0.6666667 0.5833333 0.5000000</span></a>
<a class="sourceLine" id="cb1-24" data-line-number="24"><span class="co">#&gt; [15] 0.4166667 0.3333333 0.2500000</span></a>
<a class="sourceLine" id="cb1-25" data-line-number="25"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb1-26" data-line-number="26"><span class="co">#&gt; $`0.5`$id</span></a>
<a class="sourceLine" id="cb1-27" data-line-number="27"><span class="co">#&gt;  [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</span></a>
<a class="sourceLine" id="cb1-28" data-line-number="28"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb1-29" data-line-number="29"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb1-30" data-line-number="30"><span class="co">#&gt; attr(,"class")</span></a>
<a class="sourceLine" id="cb1-31" data-line-number="31"><span class="co">#&gt; [1] "isolines" "iso"</span></a>
<a class="sourceLine" id="cb1-32" data-line-number="32"><span class="kw"><a href="https://www.rdocumentation.org/packages/grid/topics/grid.newpage">grid.newpage</a></span>()</a>
<a class="sourceLine" id="cb1-33" data-line-number="33"><span class="kw"><a href="https://www.rdocumentation.org/packages/grid/topics/grid.draw">grid.draw</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/grid/topics/grid.lines">polylineGrob</a></span>(lines[[<span class="dv">1</span>]]<span class="op">$</span>x, lines[[<span class="dv">1</span>]]<span class="op">$</span>y, lines[[<span class="dv">1</span>]]<span class="op">$</span>id))</a></code></pre></div>
<p><img src="isoband1_files/figure-html/unnamed-chunk-1-1.png" width="700"></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">bands &lt;-<span class="st"> </span><span class="kw"><a href="../reference/isobands.html">isobands</a></span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">ncol</a></span>(m)<span class="op">/</span><span class="dv">6</span>, <span class="dt">y =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">nrow</a></span>(m)<span class="op">:</span><span class="dv">1</span><span class="op">/</span><span class="dv">6</span>, <span class="dt">z =</span> m, <span class="dt">levels_low =</span> <span class="fl">0.5</span>, <span class="dt">levels_high =</span> <span class="fl">1.5</span>)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3">bands</a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co">#&gt; $`0.5:1.5`</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">#&gt; $`0.5:1.5`$x</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">#&gt;  [1] 0.4166667 0.3333333 0.2500000 0.2500000 0.2500000 0.3333333 0.5000000</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="co">#&gt;  [8] 0.6666667 0.7500000 0.6666667 0.6250000 0.6666667 0.7500000 0.6666667</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="co">#&gt; [15] 0.5833333 0.5000000 0.5000000 0.5416667 0.5833333 0.5000000 0.4166667</span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="co">#&gt; [22] 0.4166667</span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="co">#&gt; $`0.5:1.5`$y</span></a>
<a class="sourceLine" id="cb2-12" data-line-number="12"><span class="co">#&gt;  [1] 0.3333333 0.2500000 0.3333333 0.5000000 0.6666667 0.7500000 0.7916667</span></a>
<a class="sourceLine" id="cb2-13" data-line-number="13"><span class="co">#&gt;  [8] 0.7500000 0.6666667 0.5833333 0.5000000 0.4166667 0.3333333 0.2500000</span></a>
<a class="sourceLine" id="cb2-14" data-line-number="14"><span class="co">#&gt; [15] 0.3333333 0.3750000 0.4583333 0.5000000 0.6666667 0.7083333 0.6666667</span></a>
<a class="sourceLine" id="cb2-15" data-line-number="15"><span class="co">#&gt; [22] 0.5000000</span></a>
<a class="sourceLine" id="cb2-16" data-line-number="16"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb2-17" data-line-number="17"><span class="co">#&gt; $`0.5:1.5`$id</span></a>
<a class="sourceLine" id="cb2-18" data-line-number="18"><span class="co">#&gt;  [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2</span></a>
<a class="sourceLine" id="cb2-19" data-line-number="19"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb2-20" data-line-number="20"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb2-21" data-line-number="21"><span class="co">#&gt; attr(,"class")</span></a>
<a class="sourceLine" id="cb2-22" data-line-number="22"><span class="co">#&gt; [1] "isobands" "iso"</span></a>
<a class="sourceLine" id="cb2-23" data-line-number="23"><span class="kw"><a href="https://www.rdocumentation.org/packages/grid/topics/grid.newpage">grid.newpage</a></span>()</a>
<a class="sourceLine" id="cb2-24" data-line-number="24"><span class="kw"><a href="https://www.rdocumentation.org/packages/grid/topics/grid.draw">grid.draw</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/grid/topics/grid.path">pathGrob</a></span>(bands[[<span class="dv">1</span>]]<span class="op">$</span>x, bands[[<span class="dv">1</span>]]<span class="op">$</span>y, bands[[<span class="dv">1</span>]]<span class="op">$</span>id, <span class="dt">gp =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/grid/topics/gpar">gpar</a></span>(<span class="dt">fill =</span> <span class="st">"cornsilk"</span>)))</a></code></pre></div>
<p><img src="isoband1_files/figure-html/unnamed-chunk-1-2.png" width="700"></p>
<p>A convenience function <code><a href="../reference/plot_iso.html">plot_iso()</a></code> can be used to inspect a single isoband and corresponding isolines for an elevation matrix. This function is mostly meant for debugging and illustration purposes. It draws a grid of matrix points colored by whether each point is below, within, or above the isoband, as well as the isoband itself and the enclosing isolines.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="../reference/plot_iso.html">plot_iso</a></span>(m, <span class="fl">0.5</span>, <span class="fl">1.5</span>)</a></code></pre></div>
<p><img src="isoband1_files/figure-html/unnamed-chunk-2-1.png" width="700"></p>
<p>The isoband package handles <code>NA</code> values in the matrix by simply ignoring the respective grid points.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">m &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/matrix">matrix</a></span>(</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">  <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="ot">NA</span>, <span class="ot">NA</span>, <span class="ot">NA</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">    <span class="ot">NA</span>, <span class="ot">NA</span>, <span class="ot">NA</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">     <span class="dv">0</span>,  <span class="dv">0</span>,  <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">     <span class="dv">0</span>,  <span class="dv">1</span>,  <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb4-6" data-line-number="6">     <span class="dv">0</span>,  <span class="dv">0</span>,  <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb4-7" data-line-number="7">     <span class="dv">0</span>,  <span class="dv">0</span>,  <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>),</a>
<a class="sourceLine" id="cb4-8" data-line-number="8">  <span class="dv">6</span>, <span class="dv">6</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9">)</a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="kw"><a href="../reference/plot_iso.html">plot_iso</a></span>(m, <span class="fl">0.5</span>, <span class="fl">1.5</span>)</a></code></pre></div>
<p><img src="isoband1_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<p>Isobands can contain holes, as shown above, and they can also consist of multiple disconnected pieces.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">m &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/matrix">matrix</a></span>(</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">  <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">    <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb5-4" data-line-number="4">    <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb5-5" data-line-number="5">    <span class="dv">0</span>, <span class="dv">0</span>, <span class="fl">0.8</span>, <span class="dv">0</span>),</a>
<a class="sourceLine" id="cb5-6" data-line-number="6">  <span class="dv">4</span>, <span class="dv">4</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7">)</a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="kw"><a href="../reference/plot_iso.html">plot_iso</a></span>(m, <span class="fl">0.5</span>, <span class="fl">1.5</span>)</a></code></pre></div>
<p><img src="isoband1_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<div id="performance" class="section level1">
<h1 class="hasAnchor">
<a href="#performance" class="anchor"></a>Performance</h1>
<p>The code is written in C++ and performance is generally good. Isolining is about as fast as <code><a href="https://www.rdocumentation.org/packages/grDevices/topics/contourLines">grDevices::contourLines()</a></code>, isobanding is approximately 2.5 times slower.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="co"># contouring with contourLines() from grDevices</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2">fn_contourLines &lt;-<span class="st"> </span><span class="cf">function</span>() {</a>
<a class="sourceLine" id="cb6-3" data-line-number="3">  grDevices<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/grDevices/topics/contourLines">contourLines</a></span>(<span class="dv">1</span><span class="op">:</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">ncol</a></span>(volcano), <span class="dv">1</span><span class="op">:</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">nrow</a></span>(volcano), volcano, <span class="dt">levels =</span> <span class="dv">10</span><span class="op">*</span>(<span class="dv">10</span><span class="op">:</span><span class="dv">18</span>))</a>
<a class="sourceLine" id="cb6-4" data-line-number="4">}</a>
<a class="sourceLine" id="cb6-5" data-line-number="5"></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co"># contouring with isolines()</span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7">fn_isolines &lt;-<span class="st"> </span><span class="cf">function</span>() {</a>
<a class="sourceLine" id="cb6-8" data-line-number="8">  <span class="kw"><a href="../reference/isobands.html">isolines</a></span>(<span class="dv">1</span><span class="op">:</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">ncol</a></span>(volcano), <span class="dv">1</span><span class="op">:</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">nrow</a></span>(volcano), volcano, <span class="dv">10</span><span class="op">*</span>(<span class="dv">10</span><span class="op">:</span><span class="dv">18</span>))</a>
<a class="sourceLine" id="cb6-9" data-line-number="9">}</a>
<a class="sourceLine" id="cb6-10" data-line-number="10"></a>
<a class="sourceLine" id="cb6-11" data-line-number="11"><span class="co"># contouring with isobands()</span></a>
<a class="sourceLine" id="cb6-12" data-line-number="12">fn_isobands &lt;-<span class="st"> </span><span class="cf">function</span>() {</a>
<a class="sourceLine" id="cb6-13" data-line-number="13">  <span class="kw"><a href="../reference/isobands.html">isobands</a></span>(<span class="dv">1</span><span class="op">:</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">ncol</a></span>(volcano), <span class="dv">1</span><span class="op">:</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">nrow</a></span>(volcano), volcano, <span class="dv">10</span><span class="op">*</span>(<span class="dv">9</span><span class="op">:</span><span class="dv">17</span>), <span class="dv">10</span><span class="op">*</span>(<span class="dv">10</span><span class="op">:</span><span class="dv">18</span>))</a>
<a class="sourceLine" id="cb6-14" data-line-number="14">}</a>
<a class="sourceLine" id="cb6-15" data-line-number="15"></a>
<a class="sourceLine" id="cb6-16" data-line-number="16">microbenchmark<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/microbenchmark/topics/microbenchmark">microbenchmark</a></span>(<span class="kw">fn_contourLines</span>(), <span class="kw">fn_isolines</span>(), <span class="kw">fn_isobands</span>())</a>
<a class="sourceLine" id="cb6-17" data-line-number="17"><span class="co">#&gt; Unit: milliseconds</span></a>
<a class="sourceLine" id="cb6-18" data-line-number="18"><span class="co">#&gt;               expr      min       lq     mean   median       uq       max neval</span></a>
<a class="sourceLine" id="cb6-19" data-line-number="19"><span class="co">#&gt;  fn_contourLines() 1.445002 1.677471 2.333852 1.788102 2.349495 19.311984   100</span></a>
<a class="sourceLine" id="cb6-20" data-line-number="20"><span class="co">#&gt;      fn_isolines() 1.428188 1.514652 1.757165 1.625993 1.768556  7.874367   100</span></a>
<a class="sourceLine" id="cb6-21" data-line-number="21"><span class="co">#&gt;      fn_isobands() 3.576574 3.778846 4.129721 3.978789 4.213070 10.792447   100</span></a>
<a class="sourceLine" id="cb6-22" data-line-number="22"><span class="co">#&gt;  cld</span></a>
<a class="sourceLine" id="cb6-23" data-line-number="23"><span class="co">#&gt;   b </span></a>
<a class="sourceLine" id="cb6-24" data-line-number="24"><span class="co">#&gt;  a  </span></a>
<a class="sourceLine" id="cb6-25" data-line-number="25"><span class="co">#&gt;    c</span></a></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#performance">Performance</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Claus O. Wilke.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
